<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B6</title>
</head>
<body>
    <script>
        'use strict'
        function formatNumber (numb){
            numb=numb.toString();
            if (numb.indexOf('.')!=-1){
                if (Boolean(numb.charAt(numb.indexOf('.')+2))){
                    function roundMod(n,m) {
                        return Math.round(n/m)*m;
                    }
                    numb=roundMod(numb, 0.01); 
                } else{
                    numb=numb+'0';
                }
            } else{
            }
                return numb;
            }
            

        console.log(formatNumber(2.5));



// console.log(roundMod(12345.3, 0.01))
        
        console.log( formatNumber(2.3,"# ### ###.##") );
        // выдаёт "2.30"
        console.log( formatNumber(12345.368,"# ### ###.##") );
        // выдаёт "12 345.37"

        <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B6</title>
</head>
<body>
    <script>
        'use strict'
    </script>
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>B6</title>
    </head>
    <body>
        <script>
            'use strict'
            function formatNumber (numb, form){
                let afterDot;
                let between;
                if (form.indexOf('.')!=-1){ //находим количество знаков после точки в форме
                    afterDot=form.slice(form.indexOf('.')+1).length; 
                } 
                for (let i=0; i<form.length; i++){ //находим разделить в форме
                    if (!(typeof form[i]=='number'||form[i]=='.'||form[i]=='#')){
                        between=form[i];
                    } 
                }

                numb=numb.toFixed(afterDot); // устанавливаем количество знаков после точки как в форме; все это время переменная number 
                numb=numb.toString();
                if (numb.length>3){
                    numb = numb.replace(/\B(?=(?:\d{3})+(?!\d))/g, between); //выделяем разряды в целой части, разделитель по форме
                }
               // numb = numb.replace(/(\d)(?=(\d{3})+([^\d]|$))/g, between);
                //numb=numb.toLocaleString();
//                 if (s[0].length > 3) {
//     s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, between);
//   }
//                 console.log('ert'+between)
                // for (let i=0; i<numb.length; i++){
                //     let dot=numb.indexOf('.');
                //     let numbLengthBeforeDot=0;
                //     let quantBetween=0;
                //     let indexBetween=0;     
                //     if (dot!=-1){
                //         numbLengthBeforeDot=numb.indexOf('.')-1;
                //         if (numbLengthBeforeDot>3){ //4, 5, 6
                //             if(numbLengthBeforeDot%3==0){ //3, 6, 9
                //                 quantBetween=numbLengthBeforeDot/3-1; //6/3=2-1=1  9/3=3-1=2

                //             }else{
                //                 quantBetween=Math.floor(numbLengthBeforeDot/3); // 7/3=2 8/3=2
                //                 indexBetween=numbLengthBeforeDot%3 // 7%3=1 8%3=2
                //                 numb=numb.replace(numb[indexBetween], (between+numb[indexBetween]))


                //             }
                            
                            

                //         }else{

                //         }

                //     }else{

                //     }

                // }
                return numb;
            }

            console.log( formatNumber(2.3,"# ### ###.##") );
            // выдаёт "2.30"
            console.log( formatNumber(12345.368,"# ### ###.##") );
            // выдаёт "12 345.37"
            console.log('956352645.368,"#_###_###.##" '+ formatNumber(956352645.368,"#_###_###.##") );
            console.log( '5418566345.333,"#,###,###.##" '+formatNumber(5418566345.333,"#,###,###.##") );
            console.log( '3,"# ### ###.###" '+formatNumber(3,"# ### ###.###") );
            console.log( '12345.368,"# ### ###.#" '+formatNumber(12345.368,"# ### ###.#") );
            console.log( '59.368,"# ### ###" '+formatNumber(59.368,"# ### ###") );
            console.log( '345.32,"# ### ###.###" '+formatNumber(345.32,"# ### ###.###") );





            // хорошее решение если просто разделить разряды пробелами
            // num = num.toLocaleString();

//     /***
// number - исходное число
// decimals - количество знаков после разделителя
// dec_point - символ разделителя
// thousands_sep - разделитель тысячных
// ***/
// function number_format(number, decimals, dec_point, thousands_sep) {
//   number = (number + '').replace(/[^0-9+\-Ee.]/g, '');
//   var n = !isFinite(+number) ? 0 : +number,
//     prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),
//     sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,
//     dec = (typeof dec_point === 'undefined') ? '.' : dec_point,
//     s = '',
//     toFixedFix = function(n, prec) {
//       var k = Math.pow(10, prec);
//       return '' + (Math.round(n * k) / k)
//         .toFixed(prec);
//     };
//   // Fix for IE parseFloat(0.55).toFixed(0) = 0;
//   s = (prec ? toFixedFix(n, prec) : '' + Math.round(n))
//     .split('.');
//   if (s[0].length > 3) {
//     s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, sep);
//   }
//   if ((s[1] || '')
//     .length < prec) {
//     s[1] = s[1] || '';
//     s[1] += new Array(prec - s[1].length + 1)
//       .join('0');
//   }
//   return s.join(dec);
// }
 
// //  Пример 1: number_format(1234.56);
// //  Результат: '1,235'
 
// //  Пример 2: number_format(1234.56, 2, ',', ' ');
// //  Результат: '1 234,56'
 
// //  Пример 3: number_format(1234.5678, 2, '.', '');
// //  Результат: '1234.57'
 
// //  Пример 4: number_format(67, 2, ',', '.');
// //  Результат: '67,00'
 
// //  Пример 5: number_format(1000);
// //  Результат: '1,000'
 
// //  Пример 6: number_format(67.311, 2);
// //  Результат: '67.31'
 
//  Пример 7: number_format(1000.55, 1);
//  Результат: '1,000.6'
 
//  Пример 8: number_format(67000, 5, ',', '.');
//  Результат: '67.000,00000'
 
//  Пример 9: number_format(0.9, 0);
//  Результат: '1'
 
//  Пример 10: number_format('1.20', 2);
//  Результат: '1.20'
 
//  Пример 11: number_format('1.20', 4);
//  Результат: '1.2000'
 
//  Пример 12: number_format('1.2000', 3);
//  Результат: '1.200'
 
//  Пример 13: number_format('1 000,50', 2, '.', ' ');
//  Результат: '100 050.00'
 
//  Пример 14: number_format(1e-8, 8, '.', '');
//  Результат: '0.00000001'
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B6</title>
</head>
<body>
    <script>
        'use strict'
    </script>
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>B6</title>
    </head>
    <body>
        <script>
            'use strict'
            function formatNumber (numb, form){
                let afterDot;
                let between;
                if (form.indexOf('.')!=-1){
                    afterDot=form.slice(form.indexOf('.')+1).length;
                } else{

                }

                for (let i=0; i<form.length; i++){
                    if (!(typeof form[i]=='number'||form[i]=='.'||form[i]=='#')){
                        between=form[i];
                        console.log('between='+between)
                    } else{

                    }

                }

                numb=(numb).toFixed(afterDot);
                numb=numb.toString();
                for (let i=0; i<numb.length; i++){
                    let dot=numb.indexOf('.');
                    let quantBetween=0;
                    let indexBetween=0;
                    if (dot!=-1){
                        numb=numb.slice(0, (dot-1));
                        if (numb.length>3){ //4, 5, 6
                            if(numb.length%3==0){ //3, 6, 9
                                quantBetween=numb.length/3-1; //6/3=2-1=1  9/3=3-1=2

                            }else{
                                quantBetween=Math.floor(numb.length/3); // 7/3=2 8/3=2
                                indexBetween=numb.length%3 // 7%3=1 8%3=2
                                numb=numb.replace(numb[indexBetween], (between+numb[indexBetween]))

                            }
                            
                            

                        }else{

                        }

                    }else{

                    }

                }
                return numb;
            }

                
    
            console.log(formatNumber(2, "# ### ###.##"));
    
    
    
    // console.log(roundMod(12345.3, 0.01))
            
            console.log( formatNumber(2.3,"#_###_###.##") );
            // выдаёт "2.30"
            console.log( formatNumber(12345.368,"# ### ###.##") );
            // выдаёт "12 345.37"
    
        </script>
        
    </body>
    </html>
</body>
</html>





<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B6</title>
</head>
<body>
    <script>
        'use strict'
    </script>
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>B6</title>
    </head>
    <body>
        <script>
            'use strict'
            function formatNumber (numb, form){
                let afterDot;
                let between;
                if (form.indexOf('.')!=-1){
                    afterDot=form.slice(form.indexOf('.')+1).length;
                } else{

                }

                for (let i=0; i<form.length; i++){
                    if (!(typeof form[i]=='number'||form[i]=='.'||form[i]=='#')){
                        between=form[i];
                        console.log('between='+between)
                    } else{

                    }

                }
console.log(between)

                numb=(numb).toFixed(afterDot);
                numb=numb.toString();
                numb=numb.toLocaleString();
                
                // console.log('ert'+between)
                // for (let i=0; i<numb.length; i++){
                //     let dot=numb.indexOf('.');
                //     let numbLengthBeforeDot=0;
                //     let quantBetween=0;
                //     let indexBetween=0;     
                //     if (dot!=-1){
                //         numbLengthBeforeDot=numb.indexOf('.')-1;
                //         if (numbLengthBeforeDot>3){ //4, 5, 6
                //             if(numbLengthBeforeDot%3==0){ //3, 6, 9
                //                 quantBetween=numbLengthBeforeDot/3-1; //6/3=2-1=1  9/3=3-1=2

                //             }else{
                //                 quantBetween=Math.floor(numbLengthBeforeDot/3); // 7/3=2 8/3=2
                //                 indexBetween=numbLengthBeforeDot%3 // 7%3=1 8%3=2
                //                 numb=numb.replace(numb[indexBetween], (between+numb[indexBetween]))

                //             }
                            
                            

                //         }else{

                //         }

                //     }else{

                //     }

                // }
                return numb;
            }

                
    
            console.log(formatNumber(2, "# ### ###.##"));
    
    
    
    // console.log(roundMod(12345.3, 0.01))
            
            console.log( formatNumber(12345.368,"#_###_###_###_.##") );
            // выдаёт "2.30"
            console.log( formatNumber(12345.368,"# ### ### ###.##") );
            // выдаёт "12 345.37"


            // num = 1234567890.56;
            // result = num.toLocaleString();
            // console.log(result);

            //var nubmer = 1205345,
    //format = String(nubmer).replace(/(\d)(?=(\d{3})+([^\d]|$))/g, '$1 ');


//     /***
// number - исходное число
// decimals - количество знаков после разделителя
// dec_point - символ разделителя
// thousands_sep - разделитель тысячных
// ***/
// function number_format(number, decimals, dec_point, thousands_sep) {
//   number = (number + '').replace(/[^0-9+\-Ee.]/g, '');
//   var n = !isFinite(+number) ? 0 : +number,
//     prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),
//     sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,
//     dec = (typeof dec_point === 'undefined') ? '.' : dec_point,
//     s = '',
//     toFixedFix = function(n, prec) {
//       var k = Math.pow(10, prec);
//       return '' + (Math.round(n * k) / k)
//         .toFixed(prec);
//     };
//   // Fix for IE parseFloat(0.55).toFixed(0) = 0;
//   s = (prec ? toFixedFix(n, prec) : '' + Math.round(n))
//     .split('.');
//   if (s[0].length > 3) {
//     s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, sep);
//   }
//   if ((s[1] || '')
//     .length < prec) {
//     s[1] = s[1] || '';
//     s[1] += new Array(prec - s[1].length + 1)
//       .join('0');
//   }
//   return s.join(dec);
// }
 
// //  Пример 1: number_format(1234.56);
// //  Результат: '1,235'
 
// //  Пример 2: number_format(1234.56, 2, ',', ' ');
// //  Результат: '1 234,56'
 
// //  Пример 3: number_format(1234.5678, 2, '.', '');
// //  Результат: '1234.57'
 
// //  Пример 4: number_format(67, 2, ',', '.');
// //  Результат: '67,00'
 
// //  Пример 5: number_format(1000);
// //  Результат: '1,000'
 
// //  Пример 6: number_format(67.311, 2);
// //  Результат: '67.31'
 
//  Пример 7: number_format(1000.55, 1);
//  Результат: '1,000.6'
 
//  Пример 8: number_format(67000, 5, ',', '.');
//  Результат: '67.000,00000'
 
//  Пример 9: number_format(0.9, 0);
//  Результат: '1'
 
//  Пример 10: number_format('1.20', 2);
//  Результат: '1.20'
 
//  Пример 11: number_format('1.20', 4);
//  Результат: '1.2000'
 
//  Пример 12: number_format('1.2000', 3);
//  Результат: '1.200'
 
//  Пример 13: number_format('1 000,50', 2, '.', ' ');
//  Результат: '100 050.00'
 
//  Пример 14: number_format(1e-8, 8, '.', '');
//  Результат: '0.00000001'
        </script>
        
    </body>
    </html>
</body>
</html>




<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B6</title>
</head>
<body>
    <script>
        'use strict'
    </script>
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>B6</title>
    </head>
    <body>
        <script>
            'use strict'
            function formatNumber (numb, form){
                let afterDot;
                let between;
                if (form.indexOf('.')!=-1){
                    afterDot=form.slice(form.indexOf('.')+1).length;
                } else{

                }

                for (let i=0; i<form.length; i++){
                    if (!(typeof form[i]=='number'||form[i]=='.'||form[i]=='#')){
                        between=form[i];
                    } else{

                    }

                }

                numb=(numb).toFixed(afterDot);
                numb=numb.toString();
                if (numb.length>3){
                    numb = numb.replace(/\B(?=(?:\d{3})+(?!\d))/g, between);

                }
               // numb = numb.replace(/(\d)(?=(\d{3})+([^\d]|$))/g, between);
                //numb=numb.toLocaleString();
//                 if (s[0].length > 3) {
//     s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, between);
//   }
//                 console.log('ert'+between)
                // for (let i=0; i<numb.length; i++){
                //     let dot=numb.indexOf('.');
                //     let numbLengthBeforeDot=0;
                //     let quantBetween=0;
                //     let indexBetween=0;     
                //     if (dot!=-1){
                //         numbLengthBeforeDot=numb.indexOf('.')-1;
                //         if (numbLengthBeforeDot>3){ //4, 5, 6
                //             if(numbLengthBeforeDot%3==0){ //3, 6, 9
                //                 quantBetween=numbLengthBeforeDot/3-1; //6/3=2-1=1  9/3=3-1=2

                //             }else{
                //                 quantBetween=Math.floor(numbLengthBeforeDot/3); // 7/3=2 8/3=2
                //                 indexBetween=numbLengthBeforeDot%3 // 7%3=1 8%3=2
                //                 numb=numb.replace(numb[indexBetween], (between+numb[indexBetween]))

                //             }
                            
                            

                //         }else{

                //         }

                //     }else{

                //     }

                // }
                return numb;
            }

                
    
            console.log(formatNumber(2, "# ### ###.##"));
    
    
    
    // console.log(roundMod(12345.3, 0.01))
            
            console.log( formatNumber(12345.368,"#_###_###_###_.##") );
            // выдаёт "2.30"
            console.log( formatNumber(12345.368,"# ### ### ###.##") );
            // выдаёт "12 345.37"


            // num = 1234567890.56;
            // result = num.toLocaleString();
            // console.log(result);

            //var nubmer = 1205345,
    //format = String(nubmer).replace(/(\d)(?=(\d{3})+([^\d]|$))/g, '$1 ');

   // s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, sep);

//     /***
// number - исходное число
// decimals - количество знаков после разделителя
// dec_point - символ разделителя
// thousands_sep - разделитель тысячных
// ***/
// function number_format(number, decimals, dec_point, thousands_sep) {
//   number = (number + '').replace(/[^0-9+\-Ee.]/g, '');
//   var n = !isFinite(+number) ? 0 : +number,
//     prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),
//     sep = (typeof thousands_sep === 'undefined') ? ',' : thousands_sep,
//     dec = (typeof dec_point === 'undefined') ? '.' : dec_point,
//     s = '',
//     toFixedFix = function(n, prec) {
//       var k = Math.pow(10, prec);
//       return '' + (Math.round(n * k) / k)
//         .toFixed(prec);
//     };
//   // Fix for IE parseFloat(0.55).toFixed(0) = 0;
//   s = (prec ? toFixedFix(n, prec) : '' + Math.round(n))
//     .split('.');
//   if (s[0].length > 3) {
//     s[0] = s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g, sep);
//   }
//   if ((s[1] || '')
//     .length < prec) {
//     s[1] = s[1] || '';
//     s[1] += new Array(prec - s[1].length + 1)
//       .join('0');
//   }
//   return s.join(dec);
// }

// //  Пример 1: number_format(1234.56);
// //  Результат: '1,235'

// //  Пример 2: number_format(1234.56, 2, ',', ' ');
// //  Результат: '1 234,56'

// //  Пример 3: number_format(1234.5678, 2, '.', '');
// //  Результат: '1234.57'

// //  Пример 4: number_format(67, 2, ',', '.');
// //  Результат: '67,00'

// //  Пример 5: number_format(1000);
// //  Результат: '1,000'

// //  Пример 6: number_format(67.311, 2);
// //  Результат: '67.31'

//  Пример 7: number_format(1000.55, 1);
//  Результат: '1,000.6'

//  Пример 8: number_format(67000, 5, ',', '.');
//  Результат: '67.000,00000'

//  Пример 9: number_format(0.9, 0);
//  Результат: '1'

//  Пример 10: number_format('1.20', 2);
//  Результат: '1.20'
 
//  Пример 11: number_format('1.20', 4);
//  Результат: '1.2000'
 
//  Пример 12: number_format('1.2000', 3);
//  Результат: '1.200'
 
//  Пример 13: number_format('1 000,50', 2, '.', ' ');
//  Результат: '100 050.00'
 
//  Пример 14: number_format(1e-8, 8, '.', '');
//  Результат: '0.00000001'
        </script>
        
    </body>
    </html>
</body>
</html>

        </script>
        
    </body>
    </html>
</body>
</html>

    </script>
    
</body>
</html>